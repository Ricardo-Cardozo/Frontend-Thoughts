{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rica_/OneDrive/\\xC1rea de Trabalho/Pensamentos/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rica_/OneDrive/\\xC1rea de Trabalho/Pensamentos/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rica_/OneDrive/\\xC1rea de Trabalho/Pensamentos/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Card from'../components/Card';import ErrorMessage from'../components/ErrorMessage';import{useCallback,useEffect,useMemo,useState}from'react';import Input from'../components/Input';import styles from'./Home.module.css';import{useLocation}from'react-router-dom';import SuccessMessage from'../components/SuccessMessage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),thoughts=_useState2[0],setThoughts=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),filterThoughts=_useState8[0],setFIlterThoughts=_useState8[1];var location=useLocation();var message='';if(location.state){message=location.state.message;}//console.log(thoughts)\nvar getUsers=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,responseData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('https://api-thoughts.onrender.com/thoughts/');case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseData=_context.sent;if(response.ok){_context.next=9;break;}throw new Error(responseData.message||'Not found thoughts, make a register!');case 9:setThoughts(responseData);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);setError(_context.t0.message||\"Not found thoughts, make a register!\");case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);})),[thoughts]);// eslint-disable-line\nuseEffect(function(){getUsers();},[]);// eslint-disable-line\nuseMemo(function(){setFIlterThoughts(Array.isArray(thoughts.thoughts)&&thoughts.thoughts.filter(function(thought){return thought.title.toLowerCase().includes(search.toLocaleLowerCase());}));},[search,thoughts]);// useEffect(() => {\n//   console.log(use)\n// }, [use])\nreturn/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Thoughts\"}),message&&/*#__PURE__*/_jsx(SuccessMessage,{children:message}),error&&/*#__PURE__*/_jsx(ErrorMessage,{children:error}),!error?/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"search\",id:\"search\",placeholder:\"Search any thought\",onChange:function onChange(e){return setSearch(e.target.value);}}):'',!error?Array.isArray(filterThoughts)&&filterThoughts.length>0&&filterThoughts.map(function(thought,i){return/*#__PURE__*/_jsx(Card,{title:thought.title,description:thought.description,code:thought.code,src:\"https://api-thoughts.onrender.com/images/\".concat(thought.image),alt:thought.image},i);}):'',!error?Array.isArray(filterThoughts)&&filterThoughts.length===0&&/*#__PURE__*/_jsx(\"h1\",{className:styles.notFound,children:\"Thought not found!\"}):'']});};export default Home;","map":{"version":3,"names":["Card","ErrorMessage","useCallback","useEffect","useMemo","useState","Input","styles","useLocation","SuccessMessage","Home","thoughts","setThoughts","error","setError","search","setSearch","filterThoughts","setFIlterThoughts","location","message","state","getUsers","fetch","response","json","responseData","ok","Error","Array","isArray","filter","thought","title","toLowerCase","includes","toLocaleLowerCase","container","e","target","value","length","map","i","description","code","image","notFound"],"sources":["C:/Users/rica_/OneDrive/Área de Trabalho/Pensamentos/frontend/src/pages/Home.js"],"sourcesContent":["import Card from '../components/Card'\r\nimport ErrorMessage from '../components/ErrorMessage'\r\nimport { useCallback, useEffect, useMemo, useState } from 'react'\r\nimport Input from '../components/Input'\r\nimport styles from './Home.module.css'\r\nimport { useLocation } from 'react-router-dom'\r\nimport SuccessMessage from '../components/SuccessMessage'\r\n\r\nconst Home = () => {\r\n  const [thoughts, setThoughts] = useState([])\r\n  const [error, setError] = useState('')\r\n  const [search, setSearch] = useState('')\r\n  const [filterThoughts, setFIlterThoughts] = useState([])\r\n\r\n  const location = useLocation()\r\n  let message = ''\r\n  if (location.state) {\r\n    message = location.state.message\r\n  }\r\n\r\n  //console.log(thoughts)\r\n\r\n\r\n  const getUsers = useCallback(async () => { \r\n      try {\r\n        const response = await fetch('https://api-thoughts.onrender.com/thoughts/')\r\n        const responseData = await response.json()\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message || 'Not found thoughts, make a register!')\r\n        }\r\n        setThoughts(responseData)\r\n      } catch (err) {\r\n        setError(err.message ||\"Not found thoughts, make a register!\")\r\n      }\r\n    \r\n  }, [thoughts]) // eslint-disable-line\r\n\r\n  useEffect(() => {\r\n    getUsers()\r\n  }, []) // eslint-disable-line\r\n\r\n\r\n  \r\n\r\n  useMemo(() => {\r\n    setFIlterThoughts(\r\n      Array.isArray(thoughts.thoughts) && thoughts.thoughts.filter(thought => {\r\n        return thought.title.toLowerCase().includes(search.toLocaleLowerCase())\r\n      })\r\n    )\r\n    \r\n  }, [search, thoughts])\r\n\r\n  // useEffect(() => {\r\n  //   console.log(use)\r\n  // }, [use])\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h1>Your Thoughts</h1>\r\n      {message && <SuccessMessage>{message}</SuccessMessage>}\r\n      {error && <ErrorMessage>{error}</ErrorMessage> }\r\n      {!error \r\n        ? \r\n            <Input \r\n              type=\"text\" \r\n              name=\"search\" \r\n              id=\"search\" \r\n              placeholder='Search any thought' \r\n              onChange={e => setSearch(e.target.value)}\r\n            /> \r\n        : ''\r\n      }\r\n      {!error \r\n        ? Array.isArray(filterThoughts) \r\n        && filterThoughts.length > 0 \r\n          && filterThoughts.map((thought, i) => (\r\n           \r\n            \r\n            <Card\r\n              key={i}\r\n              title={thought.title}\r\n              description={thought.description}\r\n              code={thought.code}\r\n              src={`https://api-thoughts.onrender.com/images/${thought.image}`}\r\n              alt={thought.image}\r\n            />\r\n            \r\n          ))   \r\n        : ''\r\n      }\r\n      {!error \r\n        ? Array.isArray(filterThoughts) \r\n        && filterThoughts.length === 0 \r\n          && <h1 className={styles.notFound}>Thought not found!</h1>\r\n        : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module"}